{"version":3,"file":"static/js/104.a7b4f0ae.chunk.js","mappings":"wKAKMA,EAAa,IAAIC,IAevB,SAASC,EAAT,GAgBiB,IAffC,EAec,EAfdA,QACAC,EAcc,EAddA,UACAC,EAac,EAbdA,SACAC,EAYc,EAZdA,IACAC,EAWc,EAXdA,MACAC,EAUc,EAVdA,OACAC,EASc,EATdA,SAWA,OA/BF,SAA0BH,GACxB,IAAKN,EAAWU,IAAIJ,GAClB,MAAM,IAAIK,SAAQ,SAACC,GACjB,IAAMC,EAAM,IAAIC,MAChBD,EAAIP,IAAMA,EACVO,EAAIE,OAAS,WACXf,EAAWgB,IAAIV,GACfM,EAAQ,KACT,CACF,GAEJ,CAmBCK,CAAiBX,IAEf,gBACEF,UAAWA,QAAac,EACxBZ,IAAKA,EACLa,IAAKhB,EACLiB,IAAKf,EACLgB,MAAO,CACLb,OAAAA,EACAC,SAAAA,EACAF,MAAAA,IAIP,CAEc,SAASe,EAAT,GAiBE,IAhBfhB,EAgBc,EAhBdA,IACAH,EAec,EAfdA,QACAI,EAcc,EAddA,MACAC,EAac,EAbdA,OACAC,EAYc,EAZdA,SAaMJ,GAAWkB,EAAAA,EAAAA,QAAgC,MAEjD,OACE,SAAC,EAAAC,SAAD,CAAUC,SAAU,KAApB,UACE,+BACE,0BACE,SAACvB,EAAD,CACEE,UAAU,GACVE,IAAKA,EACLH,QAASA,EACTE,SAAUA,EACVE,MAAOA,EACPC,OAAQA,EACRC,SAAUA,SAMrB,C","sources":["components/nodes/ImageComponent.tsx"],"sourcesContent":["import type { LexicalEditor, NodeKey } from \"lexical\";\r\n\r\n// import * as React from \"react\";\r\nimport { Suspense, useRef } from \"react\";\r\n\r\nconst imageCache = new Set();\r\n\r\nfunction useSuspenseImage(src: string) {\r\n  if (!imageCache.has(src)) {\r\n    throw new Promise((resolve) => {\r\n      const img = new Image();\r\n      img.src = src;\r\n      img.onload = () => {\r\n        imageCache.add(src);\r\n        resolve(null);\r\n      };\r\n    });\r\n  }\r\n}\r\n\r\nfunction LazyImage({\r\n  altText,\r\n  className,\r\n  imageRef,\r\n  src,\r\n  width,\r\n  height,\r\n  maxWidth\r\n}: {\r\n  altText: string;\r\n  className: string | null;\r\n  height: \"inherit\" | number;\r\n  imageRef: { current: null | HTMLImageElement };\r\n  maxWidth: number;\r\n  src: string;\r\n  width: \"inherit\" | number;\r\n}): JSX.Element {\r\n  useSuspenseImage(src);\r\n  return (\r\n    <img\r\n      className={className || undefined}\r\n      src={src}\r\n      alt={altText}\r\n      ref={imageRef}\r\n      style={{\r\n        height,\r\n        maxWidth,\r\n        width\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport default function ImageComponent({\r\n  src,\r\n  altText,\r\n  width,\r\n  height,\r\n  maxWidth\r\n}: {\r\n  altText: string;\r\n  caption: LexicalEditor;\r\n  height: \"inherit\" | number;\r\n  maxWidth: number;\r\n  nodeKey: NodeKey;\r\n  resizable: boolean;\r\n  showCaption: boolean;\r\n  src: string;\r\n  width: \"inherit\" | number;\r\n  captionsEnabled: boolean;\r\n}): JSX.Element {\r\n  const imageRef = useRef<null | HTMLImageElement>(null);\r\n\r\n  return (\r\n    <Suspense fallback={null}>\r\n      <>\r\n        <div>\r\n          <LazyImage\r\n            className=\"\"\r\n            src={src}\r\n            altText={altText}\r\n            imageRef={imageRef}\r\n            width={width}\r\n            height={height}\r\n            maxWidth={maxWidth}\r\n          />\r\n        </div>\r\n      </>\r\n    </Suspense>\r\n  );\r\n}\r\n"],"names":["imageCache","Set","LazyImage","altText","className","imageRef","src","width","height","maxWidth","has","Promise","resolve","img","Image","onload","add","useSuspenseImage","undefined","alt","ref","style","ImageComponent","useRef","Suspense","fallback"],"sourceRoot":""}